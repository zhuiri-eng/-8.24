# 🚀 Netlify 拖拽部署说明

## ✅ 部署方式确认

**是的！您完全可以使用拖拽方式部署！**

从 Netlify 界面可以看到：
- "拖放。它是在线的。" (Drag and drop. It's online.)
- "无需帐户" (No account needed)
- 可以直接拖拽项目文件夹获得临时 URL

## 📁 部署文件夹结构

```
netlify-deploy/
├── netlify.toml          # Netlify 配置文件
├── package.json          # 项目依赖配置
├── functions/            # Netlify Functions
│   └── api.js           # API 处理代码
├── public/               # 静态文件
│   └── index.html       # 主页面
└── 部署说明.md           # 本文件
```

## 🎯 拖拽部署步骤

### 步骤1：准备部署
- 确保 `netlify-deploy` 文件夹包含所有必要文件
- 文件夹结构必须完整

### 步骤2：开始部署
1. **打开 [Netlify Drop](https://app.netlify.com/drop)**
2. **将整个 `netlify-deploy` 文件夹拖拽到虚线圆圈区域**
3. **等待上传和部署完成**

### 步骤3：获得链接
- Netlify 会提供一个临时 URL
- 格式：`https://随机字符串.netlify.app`
- 可以立即测试功能

## 🔧 部署后配置

### 1. 配置环境变量
部署完成后，在 Netlify 后台：
1. **进入站点设置** → **Environment variables**
2. **添加变量**：
   ```
   NETLIFY_URL=https://您的站点域名.netlify.app
   ```

### 2. 配置蓝鲸支付回调地址
使用获得的 Netlify 域名：

**异步回调地址 (notifyUrl)**：
```
https://您的站点域名.netlify.app/.netlify/functions/api/pay/notify
```

**同步返回地址 (returnUrl)**：
```
https://您的站点域名.netlify.app/payPage/success.html
```

## 🧪 测试部署

### 1. 基本功能测试
- 访问您的 Netlify 域名
- 测试创建支付订单
- 检查 API 接口是否正常

### 2. 回调功能测试
- 在蓝鲸支付后台配置回调地址
- 创建测试订单
- 验证回调是否正常

## ⚠️ 重要提醒

### 免费版限制
- 每月 100GB 带宽
- 1000 分钟构建时间
- 125,000 次函数调用

### 数据持久化
- Netlify Functions 是无状态的
- 订单数据不会永久保存
- 仅用于测试和演示

### 冷启动延迟
- 免费版有冷启动延迟
- 生产环境建议使用云服务器

## 🎉 部署优势

1. **无需账号**：可以直接开始部署
2. **即时生效**：拖拽后立即获得链接
3. **免费使用**：提供免费 HTTPS 域名
4. **全球 CDN**：访问速度快
5. **自动部署**：代码更新后自动重新部署

## 📞 遇到问题？

1. **检查文件结构**：确保所有必要文件都在
2. **查看部署日志**：在 Netlify 后台查看错误信息
3. **验证环境变量**：确认 NETLIFY_URL 配置正确
4. **测试基本功能**：先确保基本 API 接口正常

---

**现在您就可以直接将 `netlify-deploy` 文件夹拖拽到 Netlify 开始部署了！**
